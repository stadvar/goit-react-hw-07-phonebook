(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{38:function(t,e,n){},39:function(t,e,n){},58:function(t,e,n){},59:function(t,e,n){},60:function(t,e,n){"use strict";n.r(e);var c=n(1),r=n(0),a=n.n(r),o=n(9),u=n.n(o),s=n(6),i=(n(38),n(39),n(8)),b=n.n(i),j=n(3),l=Object(j.b)("contacts/fetchContactsRequest"),O=Object(j.b)("contacts/fetchContactsSuccess"),f=Object(j.b)("contacts/fetchContactsError"),d=Object(j.b)("contacts/addContactsRequest"),p=Object(j.b)("contacts/addContactsSuccess"),h=Object(j.b)("contacts/addContactsError"),m=Object(j.b)("contacts/deleteContactRequest"),y=Object(j.b)("contacts/deleteContactSuccess"),x=Object(j.b)("contacts/deleteContactError"),v=Object(j.b)("contacts/changeFilter");b.a.defaults.baseURL="http://localhost:3004";var g=n(10),C=function(t){return t.contacts.items},w=Object(g.a)([C,function(t){return t.contacts.filter}],(function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))})),N=(n(58),function(){var t=Object(s.b)(),e=Object(s.c)(w);return Object(r.useEffect)((function(){t((function(t){t(l()),b.a.get("/contacts").then((function(e){var n=e.data;return t(O(n))})).catch((function(e){return t(f(e.message))}))}))}),[]),Object(c.jsx)("table",{className:"List-table",children:Object(c.jsx)("tbody",{children:e.map((function(e){var n=e.name,r=e.number,a=e.id;return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:n}),Object(c.jsx)("td",{children:r}),Object(c.jsx)("td",{children:Object(c.jsx)("button",{type:"button",onClick:function(){return t(function(t){return function(e){e(m()),b.a.delete("/contacts/".concat(t)).then((function(){return e(y(t))})).catch((function(t){return e(x(t.message))}))}}(a))},children:"del"})})]},a)}))})})}),k=n(16);n(59);var F=function(){var t=Object(s.b)(),e=Object(r.useState)(""),n=Object(k.a)(e,2),a=n[0],o=n[1],u=Object(r.useState)(""),i=Object(k.a)(u,2),j=i[0],l=i[1],O=function(t){var e=t.currentTarget,n=e.name,c=e.value;switch(n){case"name":o(c);break;case"number":l(c);break;default:return}},f=Object(s.c)((function(t){return C(t)}));return Object(c.jsxs)("form",{className:"Form",onSubmit:function(e){if(e.preventDefault(),""!==a.trim()&&""!==j.trim()){var n,c=function(){var t=a.toLowerCase();return f.find((function(e){return e.name.toLowerCase()===t}))}();if(c)alert("".concat(c.name," is already in contacts."));else t((n={name:a,number:j},function(t){t(d()),b.a.post("/contacts",n).then((function(e){var n=e.data;return t(p(n))})).catch((function(e){return t(h(e.message))}))})),o(""),l("")}else alert("Fill all fields!")},children:[Object(c.jsxs)("label",{className:"Form-label",children:["Name",Object(c.jsx)("input",{className:"Form-input",type:"text",name:"name",value:a,onChange:O})]}),Object(c.jsxs)("label",{className:"Form-label",children:["Number",Object(c.jsx)("input",{className:"Form-input",type:"text",name:"number",value:j,onChange:O})]}),Object(c.jsx)("button",{type:"submit",children:"Add contact"})]})},S=function(){var t=Object(s.b)();return Object(c.jsx)("label",{children:Object(c.jsx)("input",{type:"text",name:"filter",onChange:function(e){return t(v(e.target.value))}})})};var L,E,R,q=function(){var t=Object(s.c)((function(t){return function(t){return t.contacts.error}(t)})),e=Object(s.c)((function(t){return function(t){return t.contacts.loading}(t)}));return Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)("h1",{children:"Phonebook"}),Object(c.jsx)(F,{}),Object(c.jsx)("h2",{children:"Contacts"}),Object(c.jsx)("p",{className:"App-find",children:"Find contacts by name"}),Object(c.jsx)(S,{}),e&&Object(c.jsx)("p",{children:" Loading... "}),t&&Object(c.jsx)("p",{children:" Sorry, something goes wrong: "+t}),Object(c.jsx)(N,{})]})},A=n(2),J=n(17),T=n(5),B=Object(j.c)([],(L={},Object(A.a)(L,O.type,(function(t,e){return e.payload})),Object(A.a)(L,p.type,(function(t,e){return[].concat(Object(J.a)(t),[e.payload])})),Object(A.a)(L,y.type,(function(t,e){var n=t.filter((function(t){return t.id!==e.payload}));return Object(J.a)(n)})),L)),D=Object(j.c)("",Object(A.a)({},v.type,(function(t,e){return e.payload}))),I=Object(j.c)(!1,(E={},Object(A.a)(E,l.type,(function(){return!0})),Object(A.a)(E,O.type,(function(){return!1})),Object(A.a)(E,f.type,(function(){return!1})),Object(A.a)(E,d.type,(function(){return!0})),Object(A.a)(E,p.type,(function(){return!1})),Object(A.a)(E,h.type,(function(){return!1})),Object(A.a)(E,m.type,(function(){return!0})),Object(A.a)(E,y.type,(function(){return!1})),Object(A.a)(E,x.type,(function(){return!1})),E)),M=Object(j.c)("",(R={},Object(A.a)(R,f.type,(function(t,e){return e.payload})),Object(A.a)(R,h.type,(function(t,e){return e.payload})),Object(A.a)(R,x.type,(function(t,e){return e.payload})),Object(A.a)(R,l.type,(function(){return""})),Object(A.a)(R,d.type,(function(){return""})),Object(A.a)(R,m.type,(function(){return""})),R)),P=Object(T.c)({items:B,filter:D,loading:I,error:M}),U=Object(j.a)({reducer:{contacts:P},devTools:!1});u.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(s.a,{store:U,children:Object(c.jsx)(q,{})})}),document.getElementById("root"))}},[[60,1,2]]]);
//# sourceMappingURL=main.a84fde68.chunk.js.map